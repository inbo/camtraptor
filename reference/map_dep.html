<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visualize deployments features — map_dep • camtrapdp</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Visualize deployments features — map_dep" />
<meta property="og:description" content="This function visualizes deployments features such as number of detected
species, number of observations and RAI on a dynamic map. The circle size and
color are proportional to the mapped feature. Deployments without
observations are shown as gray circles and a message is returned." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">camtrapdp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9010</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/filter-predicates.html">Filter predicates</a>
    </li>
    <li>
      <a href="../articles/visualize-deployment-features.html">Visualize deployment features</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/inbo/camtrapdp/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualize deployments features</h1>
    <small class="dont-index">Source: <a href='https://github.com/inbo/camtrapdp/blob/master/R/map_dep.R'><code>R/map_dep.R</code></a></small>
    <div class="hidden name"><code>map_dep.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function visualizes deployments features such as number of detected
species, number of observations and RAI on a dynamic map. The circle size and
color are proportional to the mapped feature. Deployments without
observations are shown as gray circles and a message is returned.</p>
    </div>

    <pre class="usage"><span class='fu'>map_dep</span><span class='op'>(</span>
  <span class='va'>datapkg</span>,
  <span class='va'>feature</span>,
  <span class='va'>...</span>,
  species <span class='op'>=</span> <span class='cn'>NULL</span>,
  sex <span class='op'>=</span> <span class='cn'>NULL</span>,
  age <span class='op'>=</span> <span class='cn'>NULL</span>,
  effort_unit <span class='op'>=</span> <span class='cn'>NULL</span>,
  cluster <span class='op'>=</span> <span class='cn'>TRUE</span>,
  hover_columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"n"</span>, <span class='st'>"species"</span>, <span class='st'>"deployment_id"</span>, <span class='st'>"location_id"</span>, <span class='st'>"location_name"</span>,
    <span class='st'>"latitude"</span>, <span class='st'>"longitude"</span>, <span class='st'>"start"</span>, <span class='st'>"end"</span><span class='op'>)</span>,
  relative_scale <span class='op'>=</span> <span class='cn'>TRUE</span>,
  max_scale <span class='op'>=</span> <span class='cn'>NULL</span>,
  radius_range <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>datapkg</th>
      <td><p>a camera trap data package object, as returned by
<code><a href='read_camtrap_dp.html'>read_camtrap_dp()</a></code>, i.e. a list containing three data.frames:</p><ol>
<li><p><code>observations</code> 2. <code>deployments</code> 3. <code>multimedia</code></p></li>
</ol>

<p>and a list with metadata: <code>datapackage</code></p></td>
    </tr>
    <tr>
      <th>feature</th>
      <td><p>character, deployment feature to visualize. One of:</p><ul>
<li><p><code>n_species</code>: number of identified species</p></li>
<li><p><code>n_obs</code>: number of observations</p></li>
<li><p><code>rai</code>: Relative Abundance Index</p></li>
<li><p><code>effort</code>: effort (duration) of the deployment</p></li>
</ul></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>filter predicates for subsetting deployments</p></td>
    </tr>
    <tr>
      <th>species</th>
      <td><p>a character with a scientific name. Required for  <code>rai</code>,
optional for <code>n_obs</code>. Default: <code>NULL</code></p></td>
    </tr>
    <tr>
      <th>sex</th>
      <td><p>a character defining the sex class to filter on, e.g. <code>"female"</code>.
If <code>NULL</code>, default, all observations of all sex classes are taken into
account. Optional argument for <code>n_obs</code></p></td>
    </tr>
    <tr>
      <th>age</th>
      <td><p>a character vector defining the age class to filter on, e.g.
<code>"adult"</code> or <code><a href='https://rdrr.io/r/base/c.html'>c("subadult", "adult")</a></code>. If <code>NULL</code>, default, all observations
of all age classes are taken into account. Optional argument for <code>n_obs</code></p></td>
    </tr>
    <tr>
      <th>effort_unit</th>
      <td><p>time unit to use while visualizing deployment effort
(duration). One of:</p><ul>
<li><p><code>second</code></p></li>
<li><p><code>minute</code></p></li>
<li><p><code>hour</code></p></li>
<li><p><code>day</code></p></li>
<li><p><code>month</code></p></li>
<li><p><code>year</code></p></li>
<li><p><code>NULL</code> (default) duration objects (e.g. 2594308s (~4.29 weeks)) are shown
while hovering and seconds shown in legend</p></li>
</ul></td>
    </tr>
    <tr>
      <th>cluster</th>
      <td><p>a logical value
indicating whether using the cluster option while visualizing maps.
Default: TRUE</p></td>
    </tr>
    <tr>
      <th>hover_columns</th>
      <td><p>character with the name of the columns to use for
showing location deployment information while hovering the mouse over. One
or more from deployment columns. Use <code>NULL</code> to disable hovering. Default
information:</p><ul>
<li><p><code>n</code>: number of species, number of observations, RAI or effort (column
created internally by a <code>get_*()</code> function)</p></li>
<li><p><code>species</code>: species name(s)</p></li>
<li><p><code>start</code>: start deployment</p></li>
<li><p><code>end</code>: end deployment -</p></li>
<li><p><code>deployment_id</code> deployment unique identifier</p></li>
<li><p><code>location_id</code> location unique identifier</p></li>
<li><p><code>location_name</code> location name</p></li>
<li><p><code>latitude</code>:</p></li>
<li><p><code>longitude</code>:</p></li>
</ul>

<p>See <a href='https://tdwg.github.io/camtrap-dp/data/#deployments'>section Deployment of Camtrap DP standard</a> for the full
list of columns you can use</p></td>
    </tr>
    <tr>
      <th>relative_scale</th>
      <td><p>a logical indicating whether to use a relative color
and radius scale (<code>TRUE</code>) or an absolute scale (<code>FALSE</code>). If absolute scale
is used, specify a valid <code>max_scale</code></p></td>
    </tr>
    <tr>
      <th>max_scale</th>
      <td><p>a number indicating the max value used to map color
and radius</p></td>
    </tr>
    <tr>
      <th>radius_range</th>
      <td><p>a vector of length 2 containing the lower and upper limit
of the circle radius. The lower value is used for deployments with zero
feature value, i.e. no observations, no identified species, zero RAI or
zero effort. The upper value is used for the deployment(s) with the highest
feature value (<code>relative_scale</code> = <code>TRUE</code>) or <code>max_scale</code> (<code>relative_scale</code>
= <code>FALSE</code>). Default: <code><a href='https://rdrr.io/r/base/c.html'>c(10, 50)</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a leaflet map</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Check documentation about filter predicates: <code><a href='filter_predicate.html'>pred()</a></code>, <code><a href='filter_predicate.html'>pred_in()</a></code>, <code><a href='filter_predicate.html'>pred_and()</a></code>, ...</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://twitter.com/damianozingaro'>Damiano Oldoni</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


